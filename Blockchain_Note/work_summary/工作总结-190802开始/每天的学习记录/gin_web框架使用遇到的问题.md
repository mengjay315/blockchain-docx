## 问题1：路由传参的问题

![image-20190908183702102](assets/image-20190908183702102.png)

这种传参，处理时可以直接获取传过来的参数

![image-20190908183818265](assets/image-20190908183818265.png)

![image-20190908183847866](assets/image-20190908183847866.png)

像这种的，前端要传一个页码，我后端获取到页码，后端查询数据库分页返回10条数据，处理的是 `GetBlocksList` 方法,

![image-20190908184124836](assets/image-20190908184124836.png)

获取到页码，后面进行查询数据库的处理，

测试的结果是：页码在变，返回的10条block数据一直是相同的，花了好多时间也没找出问题，

1. 先是检查插入的代码，以为是插入出错了，导致取数据时出错，仔细看了插入的代码，有些问题，改了之后，查询还是数据一样的，
2. 查询取数据的代码，发现也没问题，因为查询的sql语句测试查询确实没问题，返回的数据是不同的。
3. 从网上找解决方案，问题可能是分页返数据出了问题，我就试着按照网上的方法去改代码，在取数据时加上限制，避免取到上一页的数据，测试还是不行。
4. 当服务开着时，节点也在不断地向数据库插入数据，我在数据库可视化工具上再次测试一边插入一边读取，结果按照我原来页码的处理逻辑，每次页码不同，每次返回的10条数据时不一样的，
5. 既然sql语句的逻辑没问题，那么我就再次找代码的问题，我在代码中写一些输入语句，看看能不能输出，结果是不能输出，这才指导我输页码想获取对应页码的10条数据时，根本没走这个处理函数，然后再看gin框架，发现传统的路由传参是问号后加参数，而这个框架不这么写，但是前端请求时要这么写

![image-20190908184237311](assets/image-20190908184237311.png)

![image-20190908185739746](assets/image-20190908185739746.png)

改为这样就好了，处理函数正常获取页码参数就行。

