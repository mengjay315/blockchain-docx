# 2019年8月5日 星期一 

SDK是怎么使用的，共识算法是怎么加进去的？

共识算法Tendermint,

--------------------------------------------

sublime Text3 格式化json的插件：Pretty JSON，

快捷键：**CTRL + ALT + J**	

----

delegator：委托

commission：佣金

authentication：认证

Mechanism：机制

concrete:具体

facilitates:功能有助于

programatic:纲领性

incorporated:合并

convention:惯例

respective：各自

seal:密封



nsd gentx --name jack ，生成创世交易，用jack的密钥签名，

![](assets/DeepinScreenshot_select-area_20190805105518.png)

./app.go -->./x/nameservice/types/types.go -->./x/nameservice/types/key.go -->./x/nameservice/keeper.go

 -->./x/nameservice/types/msgs.go(setName) -->./x/nameservice/handler.go --> ./x/nameservice/types/msgs.go(buyName) --> ./x/nameservice/types/querier.go --> ./x/nameservice/alias.go -->

./x/nameservice/client/cli/query.go --> ./x/nameservice/client/cli/tx.go --> ./x/nameservice/client/rest/rest.go --> ./app.go

-->./cmd/nsd/main.go --> ./cmd/nscli/main.go

-----------------

## sdk-application-tutorial

**应用入口**：nsd和nscli两个主命令，两个主命令分别有自己的子命令

./cmd/nsd/main.go  

./cmd/nscli/main.go

----------------------

**核心**：查询和交易（query和tx）

query：1.根据名字查询解析的值；2.根据名字查询Whois结构体；3.查询名字

tx：buyName，setName

--------------

**msg和handler**：msgSetName，msgBuyName，分别对应两个handler：handleMsgSetName，handleMsgBuyName

-------------------------

**tendermint共识是如何起作用的？**

Tendermint是一个与应用程序无关的引擎，它负责处理你的区块链的网络和共识层。特别地，这就意味着Tendermint负责传播和排序交易字节。Tendermint 内核依赖于称为拜占庭容错(BFT)算法在对交易排序时达成共识。

当一个交易(包含在区块中的)到达一个Tendermint 节点，它通过ABCI被传递给应用程序，并且解码得到信息。信息然后被发送到恰当的模块中，根据定义在`Handler`的逻辑处理它。如果状态需要被更新，`Handler`回调`Keeper`去执行更新。

```
bam "github.com/cosmos/cosmos-sdk/baseapp"
```

![](assets/DeepinScreenshot_select-area_20190805180753.png)

![](assets/DeepinScreenshot_select-area_20190805180914.png)

cosmos-sdk的**baseapp**通过**ABCI protocol**处理与Tendermint的交互。

----------------------------

**Restful接口**

