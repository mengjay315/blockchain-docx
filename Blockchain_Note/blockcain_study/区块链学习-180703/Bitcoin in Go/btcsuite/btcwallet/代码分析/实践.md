# 1. btcd-translate

btcd is an alternative full node bitcoin implementation written in Go (golang).  
This project is currently under active development and is in a Beta state.  It  is extremely stable and has been in production use since October 2013.  
It properly downloads, validates, and serves the block chain using the exact  rules (including consensus bugs) for block acceptance as Bitcoin Core.  We have  
taken great care to avoid btcd causing a fork to the block chain.  It includes a  full block validation testing framework which contains all of the 'official'  
block acceptance tests (and some additional ones) that is run on every pull  request to help ensure it properly follows consensus.  Also, it passes all of  
the JSON test data in the Bitcoin Core code.  It also properly relays newly mined blocks, maintains a transaction pool, and  
relays individual transactions that have not yet made it into a block.  It  
ensures all individual transactions admitted to the pool follow the rules  
required by the block chain and also includes more strict checks which filter  
transactions based on miner requirements ("standard" transactions).  
  
One key difference between btcd and Bitcoin Core is that btcd does *****NOT**\*** include  
wallet functionality and this was a very intentional design decision.  See the  
blog entry \[here\](*https://blog.conformal.com/btcd-not-your-moms-bitcoin-daemon*)  
for more details.  This means you can't actually make or receive payments  
directly with btcd.  That functionality is provided by the  
\[btcwallet\](*https://github.com/btcsuite/btcwallet*) and  
\[Paymetheus\](*https://github.com/btcsuite/Paymetheus*) (Windows-only) projects  
which are both under active development.  
*#---------------------------------------------------------------------------*  
******Translate******  
btcd是一个用go语言编写的替代全节点比特币实现  
\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-  
One key difference between btcd and Bitcoin Core is that btcd does *****NOT**\*** include  
wallet functionality and this was a very intentional design decision.   
btcd和Bitcoin Core很大的不同是btcd并步包含功能性钱包,这是一个非常刻意的设计决策.  
\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-  
This means you can't actually make or receive payments  
directly with btcd.  That functionality is provided by the  
\[btcwallet\](*https://github.com/btcsuite/btcwallet*) and  
\[Paymetheus\](*https://github.com/btcsuite/Paymetheus*) (Windows-only) projects  
which are both under active development.  
这就意味着你不能直接地用btcd创建付款或者接受付款,关于wallet的功能性在btcwallet中实现,  
Paymetheusl是windows版本的wallet,z正在积极的开发中.  
*#----------------------------------------------------------------------------*  
  
# 2. btcwallet-translate
btcwallet is a daemon handling bitcoin wallet functionality for a  
single user.  It acts as both an RPC client to btcd and an RPC server  
for wallet clients and legacy RPC applications.  
  
Public and private keys are derived using the hierarchical  
deterministic format described by  
\[BIP0032\](*https://github.com/bitcoin/bips/blob/master/bip-0032.mediawiki*).  
Unencrypted private keys are not supported and are never written to  
disk.  btcwallet uses the  
\`m/44'/<coin type>'/<account>'/<branch>/<address index>\`  
HD path for all derived addresses, as described by  
\[BIP0044\](*https://github.com/bitcoin/bips/blob/master/bip-0044.mediawiki*).  
  
Due to the sensitive nature of public data in a BIP0032 wallet,  
btcwallet provides the option of encrypting not just private keys, but  
public data as well.  This is intended to thwart privacy risks where a  
wallet file is compromised without exposing all current and future  
addresses (public keys) managed by the wallet. While access to this  
information would not allow an attacker to spend or steal coins, it  
does mean they could track all transactions involving your addresses  
and therefore know your exact balance.  In a future release, public data  
encryption will extend to transactions as well.  
  
btcwallet is not an SPV client and requires connecting to a local or  
remote btcd instance for asynchronous blockchain queries and  
notifications over websockets.  Full btcd installation instructions  
can be found \[here\](*https://github.com/btcsuite/btcd*).  An alternative  
SPV mode that is compatible with btcd and Bitcoin Core is planned for  
a future release.  
*#--------------------------------------------------------------------------*  
******Translate******  
btcwallet是一个为单个用户处理比特币钱包功能的守护进程,它既充当btcd的RPC客户端又充当钱包客户端和传统RPC应用程序的RPC服务器。  
\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-  
Public and private keys are derived using the hierarchical  
deterministic format described by**\[BIP0032\]**.  
公钥和私钥用分层的确定性的格式被导出-**\[BIP0032\]**.  
\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-  
Unencrypted private keys are not supported and are never written to  
disk.  btcwallet uses the HD path for all derived addresses, as described by**\[BIP0044\]**.  
没有加密的私钥是不支持的,也不会写入到磁盘中.btcwallet 使用HD path对所有导出的地址-**\[BIP0044\]**.  
\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-  
这旨在防止awallet文件被泄露而不暴露钱包管理的所有当前和future addresses（公钥）的隐私风险.  
虽然访问此信息不允许攻击者花钱或偷钱币,意味着他们可以跟踪与地址相关联的所有交易,并且知道你的确切余额,  
在将来的版本中,公开的数据加密也将会扩展到交易数据的加密上.  
\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-  
btcwallet不是SPV客户端,需要连接到本地或远程btcd实例,以便通过websockets进行异步区块链查询和通知.  
An alternative SPV mode that is compatible with btcd and Bitcoin Core is planned for  
a future release.  
一个可供选择的兼容btcd和Bitcoin Core的SPV模型计划在将来的版本中实现.  
\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-  
Wallet clients can use one of two RPC servers:  
  
 **1\.** A legacy JSON-RPC server mostly compatible with Bitcoin Core  
  
     The JSON-RPC server exists to ease the migration of wallet applications  
     from Core, but complete compatibility is not guaranteed.  Some portions of  
     the API (and especially accounts) have to work differently due to other  
     design decisions (mostly due to BIP0044).  However, if you find a  
     compatibility issue and feel that it could be reasonably supported, please  
     report an issue.  This server is enabled by default.  
  
 **2\.** An experimental gRPC server  
  
     The gRPC server uses a new API built for btcwallet, but the API is not  
     stabilized and the server is feature gated behind a config option  
     (`--experimentalrpclisten`).  If you don't mind applications breaking due  
     to API changes, don't want to deal with issues of the legacy API, or need  
     notifications for changes to the wallet, this is the RPC server to use.  
     The gRPC server is documented \[here\](*./rpc/documentation/README.md*).  
\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-  
Wallet 客户端可以使用一个或两个RPC服务器:  
    1.一个传统的JSON-RPC server通常都合Bitcoin Core兼容  
    存在JSON-RPC服务器以简化从Core迁移钱包应用程序,但是并不保证完全兼容. 由于其他设计决策,API的某些部分(特别是账户)必须以不同的方式的工作(mostly due to BIP0044).  
    然而,如果你发现了一个兼容性问题,并且感觉它能够被支持,请报告这个问题. 这个服务器默认是开启的.  
    2.一个实验的gRPC服务器  
    gRPC服务器使用为btcwallet构建的新API,但API不稳定,服务器在配置选项后面进行功能门控.如果你不介意由于API改变导致应用程序破化,不要去处理传统API的问题,  
    或者对于钱包的改变需要通知,  
*#---------------------------------------------------------------------------------------*  
#### 开启btcd服务端 
  
btcd --simnet --rpcuser=myuser --rpcpass=rpc123456  
  
#### 创建btcwallet  
  
btcwallet -u myuser -P rpc123456 --simnet --create  
  
#### 运行btcwallet  
  
btcwallet -u myuser -P rpc123456 --simnet  
  
\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-  
*\# btcd --simnet --rpcuser=myuser --rpcpass=rpc123456*  
  
gaojie@admin-1103:~$ btcd --simnet --rpcuser=myuser --rpcpass=rpc123456  
2019-01-23 16:04:47.212 **\[INF\]** BTCD: Version 0.12.0-beta  
2019-01-23 16:04:47.212 **\[INF\]** BTCD: Loading block database from '/home/gaojie/.btcd/data/simnet/blocks_ffldb'  
2019-01-23 16:04:47.379 **\[INF\]** BTCD: Block database loaded  
2019-01-23 16:04:47.406 **\[INF\]** INDX: Committed filter index is enabled  
2019-01-23 16:04:47.409 **\[INF\]** INDX: Catching up indexes from height -1 to 0  
2019-01-23 16:04:47.409 **\[INF\]** INDX: Indexes caught up to height 0  
2019-01-23 16:04:47.409 **\[INF\]** CHAN: Chain state (height 0, hash 683e86bd5c6d110d91b94b97137ba6bfe02dbbdb8e3dff722a669b5d69d77af6, totaltx 1, work 2)  
2019-01-23 16:04:47.410 **\[INF\]** RPCS: Generating TLS certificates...  
2019-01-23 16:04:47.501 **\[INF\]** RPCS: Done generating TLS certificates  
2019-01-23 16:04:47.527 **\[INF\]** RPCS: RPC server listening on 127.0.0.1:18556  
2019-01-23 16:04:47.527 **\[INF\]** AMGR: Loaded 0 addresses from file '/home/gaojie/.btcd/data/simnet/peers.json'  
2019-01-23 16:04:47.527 **\[INF\]** CMGR: Server listening on 0.0.0.0:18555  
2019-01-23 16:04:47.527 **\[INF\]** CMGR: Server listening on **\[::\]**:18555  
2019-01-23 18:54:31.329 **\[INF\]** RPCS: New websocket client 127.0.0.1:58128  
2019-01-23 18:54:32.076 **\[INF\]** RPCS: Beginning rescan for 0 addresses  
2019-01-23 18:54:32.076 **\[INF\]** RPCS: Finished rescan  
\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-  
gaojie@admin-1103:~/.btcd$ tree  
.  
├── btcd.conf  
├── data  
│   └── simnet  
│       ├── blocks_ffldb  
│       │   ├── 000000000.fdb  
│       │   └── metadata  
│       │       ├── 000001.log  
│       │       ├── CURRENT  
│       │       ├── LOCK  
│       │       ├── LOG  
│       │       └── MANIFEST-000000  
│       └── peers.json  
├── logs  
│   └── simnet  
│       └── btcd.log  
├── rpc.cert  
└── rpc.key  
  
6 directories, 11 files  
  
  ![wallet-create](_v_images/20190213160259028_1998000764.png)
\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-  
*\# btcwallet -u myuser -P rpc123456 --simnet --create*  
  
gaojie@admin-1103:~$ btcwallet -u myuser -P rpc123456 --simnet --create  
Enter the private passphrase for your new wallet: **\[rpc123456\]**:我设置的的钱包地址  
Confirm passphrase:   
Do you want to add an additional layer of encryption for public data? (n/no/y/yes) **\[no\]**:   
Do you have an existing wallet seed you want to use? (n/no/y/yes) **\[no\]**:   
Your wallet generation seed is:  
f65c82652332e38a5da51a3aff1ff74f3da10fb1877b10e632e181d0a7ba4a09  
IMPORTANT: Keep the seed in a safe place as you  
will NOT be able to restore your wallet without it.  
Please keep in mind that anyone who has access  
to the seed can also restore your wallet thereby  
giving them access to all your funds, so it is  
imperative that you keep it in a secure location.  
Once you have stored the seed in a safe and secure location, enter "OK" to continue: ok  
Once you have stored the seed in a safe and secure location, enter "OK" to continue: OK  
Creating the wallet...  
2019-01-23 18:52:40.841 **\[INF\]** WLLT: Opened wallet  
The wallet has been created successfully.  
\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-  
*\# btcwallet -u myuser -P rpc123456 --simnet*  
  
gaojie@admin-1103:~$ btcwallet -u myuser -P rpc123456 --simnet  
2019-01-23 18:54:31.109 **\[WRN\]** BTCW: open /home/gaojie/.btcwallet/btcwallet.conf: no such file or directory  
2019-01-23 18:54:31.109 **\[INF\]** BTCW: Version 0.7.0-alpha  
2019-01-23 18:54:31.109 **\[INF\]** BTCW: Generating TLS certificates...  
2019-01-23 18:54:31.142 **\[INF\]** BTCW: Done generating TLS certificates  
2019-01-23 18:54:31.142 **\[INF\]** RPCS: Listening on 127.0.0.1:18554  
2019-01-23 18:54:31.240 **\[INF\]** BTCW: Attempting RPC client connection to localhost:18556  
2019-01-23 18:54:31.329 **\[INF\]** CHNS: Established connection to RPC server localhost:18556  
2019-01-23 18:54:31.919 **\[INF\]** WLLT: Opened wallet  
2019-01-23 18:54:31.940 **\[INF\]** WLLT: Catching up block hashes to height 0, this will take a while...  
2019-01-23 18:54:31.940 **\[INF\]** WLLT: RECOVERY MODE ENABLED -- rescanning for used addresses with recovery_window=250  
2019-01-23 18:54:32.030 **\[INF\]** WLLT: Caught up to height 0  
2019-01-23 18:54:32.052 **\[INF\]** WLLT: Done catching up block hashes  
2019-01-23 18:54:32.075 **\[INF\]** WLLT: Started rescan from block 683e86bd5c6d110d91b94b97137ba6bfe02dbbdb8e3dff722a669b5d69d77af6 (height 0) for 0 addresses  
2019-01-23 18:54:32.077 **\[INF\]** WLLT: Catching up block hashes to height 0, this might take a while  
2019-01-23 18:54:32.096 **\[INF\]** WLLT: Done catching up block hashes  
2019-01-23 18:54:32.096 **\[INF\]** WLLT: Finished rescan for 0 addresses (synced to block 683e86bd5c6d110d91b94b97137ba6bfe02dbbdb8e3dff722a669b5d69d77af6, height 0)  
  
gaojie@admin-1103:~/.btcwallet$ tree  
.  
├── btcwallet.conf  
├── logs  
│   └── simnet  
│       └── btcwallet.log  
├── rpc.cert  
├── rpc.key  
└── simnet  
    └── wallet.db  
  
3 directories, 5 files  
  
\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-  
  
*\# Linux/BSD/POSIX (Installed from source):*  
  
$ cp $GOPATH/src/github.com/btcsuite/btcd/sample-btcd.conf ~/.btcd/btcd.conf  
  
$ cp $GOPATH/src/github.com/btcsuite/btcwallet/sample-btcwallet.conf ~/.btcwallet/btcwallet.conf  
  
$ $EDITOR ~/.btcd/btcd.conf  
  
$ $EDITOR ~/.btcwallet/btcwallet.conf  
  
\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-  
#### btcctl是客户端
  
gaojie@admin-1103:~$ btcctl --rpcuser=myuser --rpcpass=rpc123456 --wallet --simnet walletpassphrase "123456" 6000  
  
执行完该命令后,钱包被解锁 :2019-01-23 22:11:03.628 **\[INF\]** WLLT: The wallet has been temporarily unlocked  
  
gaojie@admin-1103:~$ btcctl --rpcuser=myuser --rpcpass=rpc123456 --wallet --simnet getnewaddress  
  
SfE5ibGQcvmmuEWpgo1qdwqYPzCVG3z43j  

---------------------------------------------------------------------------------------------------------------------------------------------------------

# 5.创建挖矿地址
btcctl --rpcuser=myuser --rpcpass=rpc123456 --simnet --wallet getnewaddress

# 6.设置挖矿地址
btcd --rpcuser=myuser --rpcpass=rpc123456 --simnet  --miningaddr=SewjdZoQu1TyJ3dPTmEGED3G2ncTBdKow9

# 7.挖矿
btcctl  --wallet --rpcuser=myuser --rpcpass=rpc123456 --simnet generate 1


  
*gaojie@admin-1103:~$* *\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-*  
*\# 什么是RPC?*  
  
RPC client:  
  
  
  
\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-  
  
RPC service:   
  
  
  
\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-  
  
*\# 什么是SPV?*  
  
  
  
\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-  
  
*\# 什么是TLS?*  
  
  
  
\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-



# 8.账户地址转账操作

    创建挖矿地址：
![](_v_images/20190524113432444_731416176.png)
 
     设置挖矿地址：
![](_v_images/20190524113542135_1750324451.png)

    我创建了两个账户 account1,account2
    分别在每个账户下又创建了一个地址
![](_v_images/20190524112927043_2132042450.png)

    对account1转了10BTC, 给account2转了20BTC，
![](_v_images/20190524113118339_1643740060.png)

    查看钱包账户列表
![](_v_images/20190524113238866_127328453.png)


    根据交易hash查看交易信息
![](_v_images/20190524113705598_1628317294.png)


![](_v_images/20190524115830935_1683349042.png)

![](_v_images/20190524120204579_1696069758.png)

![](_v_images/20190524120331864_1076910217.png)


## 问题：
1. 矿工挖矿，也就是挖出block来记录一笔交易，一个block上可能记录着好几笔交易，在最开始的时候，一个矿工挖出一个block会获得50个btc,另外还有该交易的交易费，
那么一个矿工挖出一个block所获得奖励为50btc+交易费

2. 矿工获得的50个btc是谁给他的？
如果没有交易产生，那么矿工会挖出block吗？
在BTC IN GO中，当挖出100个block后才开始记录交易，那么之前挖出的block没有记录交易，那么此时矿工还有50个btc的奖励吗？
为什么没有交易的产生，也要进行挖矿，挖出的block里面没有记录交易，这时难道不是一种资源浪费吗？

![](_v_images/20190524121507015_952384636.png)
